\documentclass[a4paper,10pt]{article}
\usepackage[utf8x]{inputenc}
\usepackage{listings}
\usepackage{xcolor}

\begin{document}
\lstinputlisting[language=C++,caption=Caption, captionpos=b, escapeinside={<@}{@>}]{example/main.cpp}
\end{document}